# 프로젝트 진행 상황

## 완료된 작업

1. 프로젝트 규칙 문서화
   - frontend-rules.mdc 생성
   - backend-rules.mdc 생성 및 백엔드 개발 규칙 체계화
   - 개발 가이드라인 정립

2. 프로젝트 설정 개선
   - .gitignore 파일 최적화
   - 개발 환경 설정 정리
   - 보안 관련 설정 추가

3. DashboardWidgetGrid.vue UI/UX 전면 개선
4. 에너지 위젯 9종 개발 및 동적 import 적용
5. 검색 패널, 최근 검색어, Lottie 애니메이션 등 구현
6. vue-toastification 제거 및 alert 대체
7. HMR/동적 import 오류 해결

8. DB 구조 분석
   - patterns, responses, intents 테이블 구조 파악
   - 패턴-응답 관계 확인 (1:1)
   - 불필요한 patterns_response 테이블 제외 결정

9. 검색 로직 분석
   - ChromaDB 벡터 검색 구조 파악
   - 유사도 임계값(0.7) 적용 확인
   - 응답 생성 흐름 파악

- **백엔드 `chat_service` 리팩토링:**
  - DB 직접 조회(`get_db_response`)와 LangChain RAG(`get_gpt_response`)를 결합한 2단계 순차 파이프라인 구축.
- **RAG 답변 품질 개선:**
  - 문서 검색 시 유사도 임계값을 0.7로 상향 조정.
  - LLM 시스템 프롬프트를 단순화하여 Markdown 출력 안정성 확보.
- **프론트엔드 채팅 UI 개선:**
  - `ChatInterface.vue`에서 채팅 기록에 포함된 직원 정보 테이블이 정상적으로 렌더링되도록 `response_json` 파싱 로직 수정.
- **데이터베이스 처리 버그 수정:**
  - `DictCursor` 사용에 따른 `KeyError`를 해결하기 위해 숫자 인덱스 기반의 데이터 접근을 컬럼명 기반으로 변경.

## 진행 중인 작업

1. 백엔드 프로젝트 구조화
   - 코드 구조 표준화
   - 개발 환경 설정
   - 보안 설정
   - 백엔드 규칙 문서화 및 적용

2. 프론트엔드 프로젝트 구조화
   - 코드 구조 표준화
   - 개발 환경 설정
   - UI/UX 가이드라인

3. 위젯별 세부 기능(데이터 시뮬, 애니메이션, 새로고침 등)
4. 대시보드 스타일/반응형 개선

10. 검색 품질 개선
   - 도메인/카테고리 기반 필터링 설계
   - 벡터 품질 개선 방안 연구
   - 검색 로직 최적화 계획

- `memory-bank` 문서 전체를 최신 상태로 업데이트.
- 개선된 챗봇 아키텍처에 대한 안정성 테스트 및 모니터링.

## 다음 작업

1. 백엔드 개선
   - 벡터 검색 시스템 개선
   - 채팅 서비스 개선
   - 데이터베이스 최적화
   - 백엔드 규칙 세부 적용 및 테스트 강화

2. 프론트엔드 개선
   - UI/UX 개선
   - 성능 최적화
   - 사용자 경험 향상

3. productContext, systemPatterns 등 memory-bank 문서 구체화
4. 위젯별 실데이터 연동 및 테스트

11. 검색 품질 개선 구현
   - 도메인/카테고리 필터링 적용
   - 벡터 품질 개선
   - 검색 로직 최적화

2. 테스트 및 검증
   - 개선된 검색 품질 테스트
   - 엉뚱한 답변 발생 빈도 모니터링
   - 성능 측정 및 최적화

## 알려진 이슈

1. 벡터 검색 시스템
   - 검색 정확도 개선 필요
   - 대용량 데이터 처리 시 성능 저하
   - 캐시 관리 최적화 필요

2. 채팅 서비스
   - 응답 시간 개선 필요
   - 에러 처리 강화 필요
   - 프롬프트 최적화 필요

3. 위젯 import 경로/동적 import 관련 HMR 문제(해결)
4. 일부 문서(프로젝트 개요 등) 구체화 필요

5. 검색 품질
   - 유사도 임계값(0.7) 적용 후에도 엉뚱한 답변 발생
   - 도메인/카테고리 기반 필터링 필요
   - 벡터 품질 개선 필요

6. 성능
   - 검색 속도 최적화 필요
   - 벡터 저장소 관리 효율화 필요

- **RAG 성능 편차:** 현재 설정(유사도 0.7)이 특정 유형의 질문에는 과도하게 엄격하여 답변을 제공하지 못할 가능성 존재. 지속적인 모니터링 및 미세 조정 필요.

## 다음 마일스톤

1. 백엔드 개선 완료
   - 벡터 검색 시스템 최적화
   - 채팅 서비스 개선
   - 데이터베이스 최적화
   - 백엔드 규칙 기반 운영 체계 확립

2. 프론트엔드 개선 완료
   - UI/UX 개선
   - 성능 최적화
   - 사용자 경험 향상

3. 위젯별 실데이터 연동 및 대시보드 완성
4. 전체 UI/UX 및 반응형 개선

- 안정화된 챗봇 기능 포함 버전 배포.
- 위젯 실데이터 연동 및 대시보드 기능 완성.

## 2024-06-05 작업 내역

- DashboardWidgetGrid.vue UI/UX 대폭 개선(검색, 선택, 로딩, 최근검색 등)
- 에너지 위젯 9종 개발 및 동적 import 적용
- Lottie 애니메이션, alert 기반 피드백, HMR 오류 해결 등

- 채팅 이력/실시간 모두 구조화 응답(response_json) 기반 표 렌더링 적용
- 직원 정보 등은 표, 버튼 등은 세로 정렬 등 다양한 유형 대응
- 채팅창 질문/답변 UI를 현대적 말풍선 스타일로 개선
- 기존 스타일은 주석으로 백업, 새 스타일 적용(이상시 복원 가능)
- 질문/답변 쌍, 버튼, 표 등 간격 및 시각적 구분 강화
- style 블록 내 CSS 주석 오류(잘못된 닫힘) 수정 및 빌드 에러 해결
- 전체 코드 가독성 및 유지보수성 향상
- 기타 자잘한 버그 및 UI/UX 개선

## 다음 단계
1. 도메인/카테고리 기반 필터링 구현
2. 벡터 품질 개선 방안 수립
3. 검색 로직 최적화 

- RAG 파이프라인 성능 평가 및 추가 개선점 식별.
- 사용자 피드백을 수집하여 필요한 기능 및 개선사항 정의.
- 위젯별 실데이터 연동 및 테스트. 